(function(){var a,b,c,d={}.hasOwnProperty;null==window.performance&&(window.performance={}),performance.now=function(){return performance.now||performance.webkitNow||performance.mozNow||performance.msNow||performance.oNow||function(){return(new Date).getTime()}}(),c=function(a){return console&&console.log?console.log("WorkerBench says: '"+a+"'"):void 0},a=function(){var a;return a=function(){var a,b,e,f,g,h,i,j,k,l,m,n;return"undefined"==typeof Worker||null===Worker?(f=function(){return c("WebWorkers are not available."),!1},b=e=a=g=f):(j=null,l=null,k={MAX_WORKERS_TO_TEST_FOR:8,NUMBER_OF_TIMES_TO_BENCHMARK:5,PATH_TO_WORKER_SCRIPT:".",ON_COMPLETE:function(a){return alert("Optimum Web Workers: "+a)}},m=function(a,b){return null==b&&(b={}),0!==a.length?n(a,b):(l=i(b),c("Optimum Web Workers: "+WorkerBench.result()),c("Benchmarks took: "+(performance.now()-j)+"."),k.ON_COMPLETE(l))},n=function(a,b,c,d){var e,f,g,i,j;return null==c&&(c=[]),null==d&&(d=[]),e=a.shift(),g=100/e,i=function(g){return c.push(g.data),c.length===e?(null==b[e]&&(b[e]=[]),b[e].push(performance.now()-f),d.map(function(a){return a.terminate()}),h(e,a,b)):void 0},function(){j=[];for(var a=0;e>=0?e>a:a>e;e>=0?a++:a--)j.push(a);return j}.apply(this).map(function(a){return d[a]=new Worker(""+k.PATH_TO_WORKER_SCRIPT+"/worker.min.js"),d[a].addEventListener("message",i)}),f=performance.now(),d.map(function(a){return a.postMessage(g)})},h=function(a,b,c){var d,e,f,g;return c[a].length<k.NUMBER_OF_TIMES_TO_BENCHMARK?b.unshift(a):(k.NUMBER_OF_TIMES_TO_BENCHMARK>2&&(g=c[a].sort(),c[a]=g.slice(1,c[a].length-1)),c[a]=c[a].reduce(function(a,b){return a+b})/k.NUMBER_OF_TIMES_TO_BENCHMARK,d=c[a],e=c[a-1],f=c[a-2],a>2&&d>e&&d>f&&(b=[])),m(b,c)}),i=function(b,c,e){var f;null==c&&(c=1/0),null==e&&(e=0);for(f in b)d.call(b,f)&&(a=b[f],c>a&&(c=a,e=+f));return e},g=function(){return c("WebWorkers are available."),!0},b=function(a){return null==a&&(a={}),null==k.MAX_WORKERS_TO_TEST_FOR&&(k.MAX_WORKERS_TO_TEST_FOR=a.maxWorkersToTestFor),null==k.NUMBER_OF_TIMES_TO_BENCHMARK&&(k.NUMBER_OF_TIMES_TO_BENCHMARK=a.numberOfTimesToBenchmark),null==k.PATH_TO_WORKER_SCRIPT&&(k.PATH_TO_WORKER_SCRIPT=a.pathToWorkerScript),null!=k.ON_COMPLETE?k.ON_COMPLETE:k.ON_COMPLETE=a.onComplete},e=function(){var a;return j=performance.now(),m(function(){a=[];for(var b=1,c=k.MAX_WORKERS_TO_TEST_FOR;c>=1?c>=b:b>=c;c>=1?b++:b--)a.push(b);return a}.apply(this))},a=function(){return l?l:(c("Benchmark not yet complete."),!1)},{workersAvailable:g,setup:b,start:e,result:a}}(),a.start(),a},(b=function(a){return"function"==typeof window.define&&define.amd?define(a):window.WorkerBench=a()})(a)}).call(this);